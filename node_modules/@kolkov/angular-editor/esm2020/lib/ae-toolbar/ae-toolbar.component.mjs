import { Component, EventEmitter, Inject, Input, Output, ViewChild } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import * as i0 from "@angular/core";
import * as i1 from "../angular-editor.service";
import * as i2 from "../ae-toolbar-set/ae-toolbar-set.component";
import * as i3 from "../ae-button/ae-button.component";
import * as i4 from "../ae-select/ae-select.component";
import * as i5 from "@angular/common";
import * as i6 from "@angular/forms";
export class AeToolbarComponent {
    constructor(r, editorService, er, doc) {
        this.r = r;
        this.editorService = editorService;
        this.er = er;
        this.doc = doc;
        this.htmlMode = false;
        this.linkSelected = false;
        this.block = 'default';
        this.fontName = 'Times New Roman';
        this.fontSize = '3';
        this.headings = [
            {
                label: 'Heading 1',
                value: 'h1',
            },
            {
                label: 'Heading 2',
                value: 'h2',
            },
            {
                label: 'Heading 3',
                value: 'h3',
            },
            {
                label: 'Heading 4',
                value: 'h4',
            },
            {
                label: 'Heading 5',
                value: 'h5',
            },
            {
                label: 'Heading 6',
                value: 'h6',
            },
            {
                label: 'Heading 7',
                value: 'h7',
            },
            {
                label: 'Paragraph',
                value: 'p',
            },
            {
                label: 'Predefined',
                value: 'pre'
            },
            {
                label: 'Standard',
                value: 'div'
            },
            {
                label: 'default',
                value: 'default'
            }
        ];
        this.fontSizes = [
            {
                label: '1',
                value: '1',
            },
            {
                label: '2',
                value: '2',
            },
            {
                label: '3',
                value: '3',
            },
            {
                label: '4',
                value: '4',
            },
            {
                label: '5',
                value: '5',
            },
            {
                label: '6',
                value: '6',
            },
            {
                label: '7',
                value: '7',
            }
        ];
        this.customClassId = '-1';
        this.customClassList = [{ label: '', value: '' }];
        // uploadUrl: string;
        this.tagMap = {
            BLOCKQUOTE: 'indent',
            A: 'link'
        };
        this.select = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'P', 'PRE', 'DIV'];
        this.buttons = ['bold', 'italic', 'underline', 'strikeThrough', 'subscript', 'superscript', 'justifyLeft', 'justifyCenter',
            'justifyRight', 'justifyFull', 'indent', 'outdent', 'insertUnorderedList', 'insertOrderedList', 'link'];
        this.fonts = [{ label: '', value: '' }];
        this.execute = new EventEmitter();
    }
    set customClasses(classes) {
        if (classes) {
            this._customClasses = classes;
            this.customClassList = this._customClasses.map((x, i) => ({ label: x.name, value: i.toString() }));
            this.customClassList.unshift({ label: 'Clear Class', value: '-1' });
        }
    }
    set defaultFontName(value) {
        if (value) {
            this.fontName = value;
        }
    }
    set defaultFontSize(value) {
        if (value) {
            this.fontSize = value;
        }
    }
    get isLinkButtonDisabled() {
        return this.htmlMode || !Boolean(this.editorService.selectedText);
    }
    /**
     * Trigger command from editor header buttons
     * @param command string from toolbar buttons
     */
    triggerCommand(command) {
        this.execute.emit(command);
    }
    /**
     * highlight editor buttons when cursor moved or positioning
     */
    triggerButtons() {
        if (!this.showToolbar) {
            return;
        }
        this.buttons.forEach(e => {
            const result = this.doc.queryCommandState(e);
            const elementById = this.doc.getElementById(e + '-' + this.id);
            if (result) {
                this.r.addClass(elementById, 'active');
            }
            else {
                this.r.removeClass(elementById, 'active');
            }
        });
    }
    /**
     * trigger highlight editor buttons when cursor moved or positioning in block
     */
    triggerBlocks(nodes) {
        if (!this.showToolbar) {
            return;
        }
        this.linkSelected = nodes.findIndex(x => x.nodeName === 'A') > -1;
        let found = false;
        this.select.forEach(y => {
            const node = nodes.find(x => x.nodeName === y);
            if (node !== undefined && y === node.nodeName) {
                if (found === false) {
                    this.block = node.nodeName.toLowerCase();
                    found = true;
                }
            }
            else if (found === false) {
                this.block = 'default';
            }
        });
        found = false;
        if (this._customClasses) {
            this._customClasses.forEach((y, index) => {
                const node = nodes.find(x => {
                    if (x instanceof Element) {
                        return x.className === y.class;
                    }
                });
                if (node !== undefined) {
                    if (found === false) {
                        this.customClassId = index.toString();
                        found = true;
                    }
                }
                else if (found === false) {
                    this.customClassId = '-1';
                }
            });
        }
        Object.keys(this.tagMap).map(e => {
            const elementById = this.doc.getElementById(this.tagMap[e] + '-' + this.id);
            const node = nodes.find(x => x.nodeName === e);
            if (node !== undefined && e === node.nodeName) {
                this.r.addClass(elementById, 'active');
            }
            else {
                this.r.removeClass(elementById, 'active');
            }
        });
        this.foreColour = this.doc.queryCommandValue('ForeColor');
        this.fontSize = this.doc.queryCommandValue('FontSize');
        this.fontName = this.doc.queryCommandValue('FontName').replace(/"/g, '');
        this.backColor = this.doc.queryCommandValue('backColor');
    }
    /**
     * insert URL link
     */
    insertUrl() {
        let url = 'https:\/\/';
        const selection = this.editorService.savedSelection;
        if (selection && selection.commonAncestorContainer.parentElement.nodeName === 'A') {
            const parent = selection.commonAncestorContainer.parentElement;
            if (parent.href !== '') {
                url = parent.href;
            }
        }
        url = prompt('Insert URL link', url);
        if (url && url !== '' && url !== 'https://') {
            this.editorService.createLink(url);
        }
    }
    /**
     * insert Video link
     */
    insertVideo() {
        this.execute.emit('');
        const url = prompt('Insert Video link', `https://`);
        if (url && url !== '' && url !== `https://`) {
            this.editorService.insertVideo(url);
        }
    }
    /** insert color */
    insertColor(color, where) {
        this.editorService.insertColor(color, where);
        this.execute.emit('');
    }
    /**
     * set font Name/family
     * @param foreColor string
     */
    setFontName(foreColor) {
        this.editorService.setFontName(foreColor);
        this.execute.emit('');
    }
    /**
     * set font Size
     * @param fontSize string
     */
    setFontSize(fontSize) {
        this.editorService.setFontSize(fontSize);
        this.execute.emit('');
    }
    /**
     * toggle editor mode (WYSIWYG or SOURCE)
     * @param m boolean
     */
    setEditorMode(m) {
        const toggleEditorModeButton = this.doc.getElementById('toggleEditorMode' + '-' + this.id);
        if (m) {
            this.r.addClass(toggleEditorModeButton, 'active');
        }
        else {
            this.r.removeClass(toggleEditorModeButton, 'active');
        }
        this.htmlMode = m;
    }
    /**
     * Upload image when file is selected.
     */
    onFileChanged(event) {
        const file = event.target.files[0];
        if (file.type.includes('image/')) {
            if (this.upload) {
                this.upload(file).subscribe((response) => this.watchUploadImage(response, event));
            }
            else if (this.uploadUrl) {
                this.editorService.uploadImage(file).subscribe((response) => this.watchUploadImage(response, event));
            }
            else {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const fr = e.currentTarget;
                    this.editorService.insertImage(fr.result.toString());
                };
                reader.readAsDataURL(file);
            }
        }
    }
    watchUploadImage(response, event) {
        const { imageUrl } = response.body;
        this.editorService.insertImage(imageUrl);
        event.srcElement.value = null;
    }
    /**
     * Set custom class
     */
    setCustomClass(classId) {
        if (classId === '-1') {
            this.execute.emit('clear');
        }
        else {
            this.editorService.createCustomClass(this._customClasses[+classId]);
        }
    }
    isButtonHidden(name) {
        if (!name) {
            return false;
        }
        if (!(this.hiddenButtons instanceof Array)) {
            return false;
        }
        let result;
        for (const arr of this.hiddenButtons) {
            if (arr instanceof Array) {
                result = arr.find(item => item === name);
            }
            if (result) {
                break;
            }
        }
        return result !== undefined;
    }
    focus() {
        this.execute.emit('focus');
        console.log('focused');
    }
}
AeToolbarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.4.0", ngImport: i0, type: AeToolbarComponent, deps: [{ token: i0.Renderer2 }, { token: i1.AngularEditorService }, { token: i0.ElementRef }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Component });
AeToolbarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.4.0", type: AeToolbarComponent, selector: "angular-editor-toolbar, ae-toolbar, div[aeToolbar]", inputs: { id: "id", uploadUrl: "uploadUrl", upload: "upload", showToolbar: "showToolbar", fonts: "fonts", customClasses: "customClasses", defaultFontName: "defaultFontName", defaultFontSize: "defaultFontSize", hiddenButtons: "hiddenButtons" }, outputs: { execute: "execute" }, viewQueries: [{ propertyName: "myInputFile", first: true, predicate: ["fileInput"], descendants: true, static: true }], ngImport: i0, template: "<div class=\"angular-editor-toolbar\" *ngIf=\"showToolbar\">\n  <div aeToolbarSet>\n    <button aeButton title=\"Undo\" iconName=\"undo\" (click)=\"triggerCommand('undo')\" [hidden]=\"isButtonHidden('undo')\">\n    </button>\n    <button aeButton title=\"Redo\" iconName=\"redo\" (click)=\"triggerCommand('redo')\"\n            [hidden]=\"isButtonHidden('redo')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'bold-'+id\" aeButton title=\"Bold\" iconName=\"bold\" (click)=\"triggerCommand('bold')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('bold')\">\n    </button>\n    <button [id]=\"'italic-'+id\" aeButton iconName=\"italic\" title=\"Italic\" (click)=\"triggerCommand('italic')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('italic')\">\n    </button>\n    <button [id]=\"'underline-'+id\" aeButton title=\"Underline\" iconName=\"underline\"\n            (click)=\"triggerCommand('underline')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('underline')\">\n    </button>\n    <button [id]=\"'strikeThrough-'+id\" aeButton iconName=\"strikeThrough\" title=\"Strikethrough\"\n            (click)=\"triggerCommand('strikeThrough')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('strikeThrough')\">\n    </button>\n    <button [id]=\"'subscript-'+id\" aeButton title=\"Subscript\" iconName=\"subscript\"\n            (click)=\"triggerCommand('subscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('subscript')\">\n    </button>\n    <button [id]=\"'superscript-'+id\" aeButton iconName=\"superscript\" title=\"Superscript\"\n            (click)=\"triggerCommand('superscript')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('superscript')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'justifyLeft-'+id\" aeButton iconName=\"justifyLeft\" title=\"Justify Left\"\n            (click)=\"triggerCommand('justifyLeft')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyLeft')\">\n    </button>\n    <button [id]=\"'justifyCenter-'+id\" aeButton iconName=\"justifyCenter\" title=\"Justify Center\"\n            (click)=\"triggerCommand('justifyCenter')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyCenter')\">\n    </button>\n    <button [id]=\"'justifyRight-'+id\" aeButton iconName=\"justifyRight\" title=\"Justify Right\"\n            (click)=\"triggerCommand('justifyRight')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyRight')\">\n    </button>\n    <button [id]=\"'justifyFull-'+id\" aeButton iconName=\"justifyFull\" title=\"Justify Full\"\n            (click)=\"triggerCommand('justifyFull')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyFull')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'indent-'+id\" aeButton iconName=\"indent\" title=\"Indent\"\n            (click)=\"triggerCommand('indent')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('indent')\">\n    </button>\n    <button [id]=\"'outdent-'+id\" aeButton iconName=\"outdent\" title=\"Outdent\"\n            (click)=\"triggerCommand('outdent')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('outdent')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'insertUnorderedList-'+id\" aeButton iconName=\"unorderedList\" title=\"Unordered List\"\n            (click)=\"triggerCommand('insertUnorderedList')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertUnorderedList')\">\n    </button>\n    <button [id]=\"'insertOrderedList-'+id\" aeButton iconName=\"orderedList\" title=\"Ordered List\"\n            (click)=\"triggerCommand('insertOrderedList')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertOrderedList')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <ae-select class=\"select-heading\" [options]=\"headings\"\n               [(ngModel)]=\"block\"\n               (change)=\"triggerCommand(block)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('heading')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div aeToolbarSet>\n    <ae-select class=\"select-font\" [options]=\"fonts\"\n               [(ngModel)]=\"fontName\"\n               (change)=\"setFontName(fontName)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('fontName')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div aeToolbarSet>\n    <ae-select class=\"select-font-size\" [options]=\"fontSizes\"\n               [(ngModel)]=\"fontSize\"\n               (change)=\"setFontSize(fontSize)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('fontSize')\"\n               tabindex=\"-1\">\n    </ae-select>\n  </div>\n  <div aeToolbarSet>\n    <input\n      style=\"display: none\"\n      type=\"color\" (change)=\"insertColor(fgInput.value, 'textColor')\"\n      #fgInput>\n    <button [id]=\"'foregroundColorPicker-'+id\" aeButton iconName=\"textColor\"\n            (click)=\"focus(); ; fgInput.click()\"\n            title=\"Text Color\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('textColor')\">\n    </button>\n    <input\n      style=\"display: none\"\n      type=\"color\" (change)=\"insertColor(bgInput.value, 'backgroundColor')\"\n      #bgInput>\n    <button [id]=\"'backgroundColorPicker-'+id\" aeButton iconName=\"backgroundColor\"\n            (click)=\"focus(); ; bgInput.click()\"\n            title=\"Background Color\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('backgroundColor')\">\n    </button>\n  </div>\n  <div *ngIf=\"_customClasses\" aeToolbarSet>\n    <ae-select class=\"select-custom-style\" [options]=\"customClassList\"\n               [(ngModel)]=\"customClassId\"\n               (change)=\"setCustomClass(customClassId)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('customClasses')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'link-'+id\" aeButton iconName=\"link\" (click)=\"insertUrl()\"\n            title=\"Insert Link\" [disabled]=\"isLinkButtonDisabled\" [hidden]=\"isButtonHidden('link')\">\n    </button>\n    <button [id]=\"'unlink-'+id\" aeButton iconName=\"unlink\" (click)=\"triggerCommand('unlink')\"\n            title=\"Unlink\" [disabled]=\"htmlMode || !linkSelected\" [hidden]=\"isButtonHidden('unlink')\">\n    </button>\n    <input\n      style=\"display: none\"\n      accept=\"image/*\"\n      type=\"file\" (change)=\"onFileChanged($event)\"\n      #fileInput>\n    <button [id]=\"'insertImage-'+id\" aeButton iconName=\"image\" (click)=\"focus(); fileInput.click()\"\n            title=\"Insert Image\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertImage')\">\n    </button>\n    <button [id]=\"'insertVideo-'+id\" aeButton iconName=\"video\"\n            (click)=\"insertVideo()\" title=\"Insert Video\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertVideo')\">\n    </button>\n    <button [id]=\"'insertHorizontalRule-'+id\" aeButton iconName=\"horizontalLine\" title=\"Horizontal Line\"\n            (click)=\"triggerCommand('insertHorizontalRule')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertHorizontalRule')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'clearFormatting-'+id\" aeButton iconName=\"removeFormat\" title=\"Clear Formatting\"\n            class=\"angular-editor-button\"\n            (click)=\"triggerCommand('removeFormat')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('removeFormat')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'toggleEditorMode-'+id\" aeButton iconName=\"htmlCode\" title=\"HTML Code\"\n            (click)=\"triggerCommand('toggleEditorMode')\" [hidden]=\"isButtonHidden('toggleEditorMode')\">\n    </button>\n  </div>\n  <ng-content></ng-content>\n</div>\n", styles: ["a{cursor:pointer}.angular-editor-toolbar{font:100 14px/15px Roboto,Arial,sans-serif;background-color:var(--ae-toolbar-bg-color, #f5f5f5);font-size:.8rem;padding:var(--ae-toolbar-padding, .2rem);border:var(--ae-toolbar-border-radius, 1px solid #ddd);display:flex;flex-wrap:wrap;gap:4px}.select-heading{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-heading optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-heading option{border:1px solid;background-color:#fff}.select-heading .default{font-size:16px}.select-heading .h1{font-size:24px}.select-heading .h2{font-size:20px}.select-heading .h3{font-size:16px}.select-heading .h4{font-size:15px}.select-heading .h5{font-size:14px}.select-heading .h6{font-size:13px}.select-heading .div,.select-heading .pre{font-size:12px}}.select-heading:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-heading:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-font optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font option{border:1px solid;background-color:#fff}}.select-font:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font-size{display:inline-block;width:50px}@supports not (-moz-appearance: none){.select-font-size optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font-size option{border:1px solid;background-color:#fff}.select-font-size .size1{font-size:10px}.select-font-size .size2{font-size:12px}.select-font-size .size3{font-size:14px}.select-font-size .size4{font-size:16px}.select-font-size .size5{font-size:18px}.select-font-size .size6{font-size:20px}.select-font-size .size7{font-size:22px}}.select-font-size:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font-size:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-custom-style{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-custom-style optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-custom-style option{border:1px solid;background-color:#fff}}.select-custom-style:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-custom-style:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.color-label{position:relative;cursor:pointer}.background{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.foreground :after{position:absolute;content:\"\";inset:auto auto -3px -1px;width:15px;height:2px;z-index:0;background:#1b1b1b}\n"], components: [{ type: i2.AeToolbarSetComponent, selector: "ae-toolbar-set, [aeToolbarSet]" }, { type: i3.AeButtonComponent, selector: "ae-button, button[aeButton]", inputs: ["iconName"] }, { type: i4.AeSelectComponent, selector: "ae-select", inputs: ["options", "hidden"], outputs: ["change"] }], directives: [{ type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i6.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i6.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.4.0", ngImport: i0, type: AeToolbarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'angular-editor-toolbar, ae-toolbar, div[aeToolbar]', template: "<div class=\"angular-editor-toolbar\" *ngIf=\"showToolbar\">\n  <div aeToolbarSet>\n    <button aeButton title=\"Undo\" iconName=\"undo\" (click)=\"triggerCommand('undo')\" [hidden]=\"isButtonHidden('undo')\">\n    </button>\n    <button aeButton title=\"Redo\" iconName=\"redo\" (click)=\"triggerCommand('redo')\"\n            [hidden]=\"isButtonHidden('redo')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'bold-'+id\" aeButton title=\"Bold\" iconName=\"bold\" (click)=\"triggerCommand('bold')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('bold')\">\n    </button>\n    <button [id]=\"'italic-'+id\" aeButton iconName=\"italic\" title=\"Italic\" (click)=\"triggerCommand('italic')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('italic')\">\n    </button>\n    <button [id]=\"'underline-'+id\" aeButton title=\"Underline\" iconName=\"underline\"\n            (click)=\"triggerCommand('underline')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('underline')\">\n    </button>\n    <button [id]=\"'strikeThrough-'+id\" aeButton iconName=\"strikeThrough\" title=\"Strikethrough\"\n            (click)=\"triggerCommand('strikeThrough')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('strikeThrough')\">\n    </button>\n    <button [id]=\"'subscript-'+id\" aeButton title=\"Subscript\" iconName=\"subscript\"\n            (click)=\"triggerCommand('subscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('subscript')\">\n    </button>\n    <button [id]=\"'superscript-'+id\" aeButton iconName=\"superscript\" title=\"Superscript\"\n            (click)=\"triggerCommand('superscript')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('superscript')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'justifyLeft-'+id\" aeButton iconName=\"justifyLeft\" title=\"Justify Left\"\n            (click)=\"triggerCommand('justifyLeft')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyLeft')\">\n    </button>\n    <button [id]=\"'justifyCenter-'+id\" aeButton iconName=\"justifyCenter\" title=\"Justify Center\"\n            (click)=\"triggerCommand('justifyCenter')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyCenter')\">\n    </button>\n    <button [id]=\"'justifyRight-'+id\" aeButton iconName=\"justifyRight\" title=\"Justify Right\"\n            (click)=\"triggerCommand('justifyRight')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyRight')\">\n    </button>\n    <button [id]=\"'justifyFull-'+id\" aeButton iconName=\"justifyFull\" title=\"Justify Full\"\n            (click)=\"triggerCommand('justifyFull')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('justifyFull')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'indent-'+id\" aeButton iconName=\"indent\" title=\"Indent\"\n            (click)=\"triggerCommand('indent')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('indent')\">\n    </button>\n    <button [id]=\"'outdent-'+id\" aeButton iconName=\"outdent\" title=\"Outdent\"\n            (click)=\"triggerCommand('outdent')\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('outdent')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'insertUnorderedList-'+id\" aeButton iconName=\"unorderedList\" title=\"Unordered List\"\n            (click)=\"triggerCommand('insertUnorderedList')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertUnorderedList')\">\n    </button>\n    <button [id]=\"'insertOrderedList-'+id\" aeButton iconName=\"orderedList\" title=\"Ordered List\"\n            (click)=\"triggerCommand('insertOrderedList')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertOrderedList')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <ae-select class=\"select-heading\" [options]=\"headings\"\n               [(ngModel)]=\"block\"\n               (change)=\"triggerCommand(block)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('heading')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div aeToolbarSet>\n    <ae-select class=\"select-font\" [options]=\"fonts\"\n               [(ngModel)]=\"fontName\"\n               (change)=\"setFontName(fontName)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('fontName')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div aeToolbarSet>\n    <ae-select class=\"select-font-size\" [options]=\"fontSizes\"\n               [(ngModel)]=\"fontSize\"\n               (change)=\"setFontSize(fontSize)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('fontSize')\"\n               tabindex=\"-1\">\n    </ae-select>\n  </div>\n  <div aeToolbarSet>\n    <input\n      style=\"display: none\"\n      type=\"color\" (change)=\"insertColor(fgInput.value, 'textColor')\"\n      #fgInput>\n    <button [id]=\"'foregroundColorPicker-'+id\" aeButton iconName=\"textColor\"\n            (click)=\"focus(); ; fgInput.click()\"\n            title=\"Text Color\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('textColor')\">\n    </button>\n    <input\n      style=\"display: none\"\n      type=\"color\" (change)=\"insertColor(bgInput.value, 'backgroundColor')\"\n      #bgInput>\n    <button [id]=\"'backgroundColorPicker-'+id\" aeButton iconName=\"backgroundColor\"\n            (click)=\"focus(); ; bgInput.click()\"\n            title=\"Background Color\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('backgroundColor')\">\n    </button>\n  </div>\n  <div *ngIf=\"_customClasses\" aeToolbarSet>\n    <ae-select class=\"select-custom-style\" [options]=\"customClassList\"\n               [(ngModel)]=\"customClassId\"\n               (change)=\"setCustomClass(customClassId)\"\n               [disabled]=\"htmlMode\"\n               [hidden]=\"isButtonHidden('customClasses')\"\n               tabindex=\"-1\"></ae-select>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'link-'+id\" aeButton iconName=\"link\" (click)=\"insertUrl()\"\n            title=\"Insert Link\" [disabled]=\"isLinkButtonDisabled\" [hidden]=\"isButtonHidden('link')\">\n    </button>\n    <button [id]=\"'unlink-'+id\" aeButton iconName=\"unlink\" (click)=\"triggerCommand('unlink')\"\n            title=\"Unlink\" [disabled]=\"htmlMode || !linkSelected\" [hidden]=\"isButtonHidden('unlink')\">\n    </button>\n    <input\n      style=\"display: none\"\n      accept=\"image/*\"\n      type=\"file\" (change)=\"onFileChanged($event)\"\n      #fileInput>\n    <button [id]=\"'insertImage-'+id\" aeButton iconName=\"image\" (click)=\"focus(); fileInput.click()\"\n            title=\"Insert Image\"\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertImage')\">\n    </button>\n    <button [id]=\"'insertVideo-'+id\" aeButton iconName=\"video\"\n            (click)=\"insertVideo()\" title=\"Insert Video\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertVideo')\">\n    </button>\n    <button [id]=\"'insertHorizontalRule-'+id\" aeButton iconName=\"horizontalLine\" title=\"Horizontal Line\"\n            (click)=\"triggerCommand('insertHorizontalRule')\" [disabled]=\"htmlMode\"\n            [hidden]=\"isButtonHidden('insertHorizontalRule')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'clearFormatting-'+id\" aeButton iconName=\"removeFormat\" title=\"Clear Formatting\"\n            class=\"angular-editor-button\"\n            (click)=\"triggerCommand('removeFormat')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('removeFormat')\">\n    </button>\n  </div>\n  <div aeToolbarSet>\n    <button [id]=\"'toggleEditorMode-'+id\" aeButton iconName=\"htmlCode\" title=\"HTML Code\"\n            (click)=\"triggerCommand('toggleEditorMode')\" [hidden]=\"isButtonHidden('toggleEditorMode')\">\n    </button>\n  </div>\n  <ng-content></ng-content>\n</div>\n", styles: ["a{cursor:pointer}.angular-editor-toolbar{font:100 14px/15px Roboto,Arial,sans-serif;background-color:var(--ae-toolbar-bg-color, #f5f5f5);font-size:.8rem;padding:var(--ae-toolbar-padding, .2rem);border:var(--ae-toolbar-border-radius, 1px solid #ddd);display:flex;flex-wrap:wrap;gap:4px}.select-heading{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-heading optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-heading option{border:1px solid;background-color:#fff}.select-heading .default{font-size:16px}.select-heading .h1{font-size:24px}.select-heading .h2{font-size:20px}.select-heading .h3{font-size:16px}.select-heading .h4{font-size:15px}.select-heading .h5{font-size:14px}.select-heading .h6{font-size:13px}.select-heading .div,.select-heading .pre{font-size:12px}}.select-heading:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-heading:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-font optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font option{border:1px solid;background-color:#fff}}.select-font:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font-size{display:inline-block;width:50px}@supports not (-moz-appearance: none){.select-font-size optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font-size option{border:1px solid;background-color:#fff}.select-font-size .size1{font-size:10px}.select-font-size .size2{font-size:12px}.select-font-size .size3{font-size:14px}.select-font-size .size4{font-size:16px}.select-font-size .size5{font-size:18px}.select-font-size .size6{font-size:20px}.select-font-size .size7{font-size:22px}}.select-font-size:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font-size:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-custom-style{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-custom-style optgroup{font-size:12px;background-color:#f4f4f4;padding:5px}.select-custom-style option{border:1px solid;background-color:#fff}}.select-custom-style:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-custom-style:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.color-label{position:relative;cursor:pointer}.background{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.foreground :after{position:absolute;content:\"\";inset:auto auto -3px -1px;width:15px;height:2px;z-index:0;background:#1b1b1b}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i1.AngularEditorService }, { type: i0.ElementRef }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }]; }, propDecorators: { id: [{
                type: Input
            }], uploadUrl: [{
                type: Input
            }], upload: [{
                type: Input
            }], showToolbar: [{
                type: Input
            }], fonts: [{
                type: Input
            }], customClasses: [{
                type: Input
            }], defaultFontName: [{
                type: Input
            }], defaultFontSize: [{
                type: Input
            }], hiddenButtons: [{
                type: Input
            }], execute: [{
                type: Output
            }], myInputFile: [{
                type: ViewChild,
                args: ['fileInput', { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWUtdG9vbGJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWVkaXRvci9zcmMvbGliL2FlLXRvb2xiYXIvYWUtdG9vbGJhci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWVkaXRvci9zcmMvbGliL2FlLXRvb2xiYXIvYWUtdG9vbGJhci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUVULFlBQVksRUFDWixNQUFNLEVBQ04sS0FBSyxFQUNMLE1BQU0sRUFFTixTQUFTLEVBRVYsTUFBTSxlQUFlLENBQUM7QUFHdkIsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLGlCQUFpQixDQUFDOzs7Ozs7OztBQVl6QyxNQUFNLE9BQU8sa0JBQWtCO0lBOEk3QixZQUNVLENBQVksRUFDWixhQUFtQyxFQUNuQyxFQUFjLEVBQ0ksR0FBUTtRQUgxQixNQUFDLEdBQUQsQ0FBQyxDQUFXO1FBQ1osa0JBQWEsR0FBYixhQUFhLENBQXNCO1FBQ25DLE9BQUUsR0FBRixFQUFFLENBQVk7UUFDSSxRQUFHLEdBQUgsR0FBRyxDQUFLO1FBakpwQyxhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLFVBQUssR0FBRyxTQUFTLENBQUM7UUFDbEIsYUFBUSxHQUFHLGlCQUFpQixDQUFDO1FBQzdCLGFBQVEsR0FBRyxHQUFHLENBQUM7UUFJZixhQUFRLEdBQW1CO1lBQ3pCO2dCQUNFLEtBQUssRUFBRSxXQUFXO2dCQUNsQixLQUFLLEVBQUUsSUFBSTthQUNaO1lBQ0Q7Z0JBQ0UsS0FBSyxFQUFFLFdBQVc7Z0JBQ2xCLEtBQUssRUFBRSxJQUFJO2FBQ1o7WUFDRDtnQkFDRSxLQUFLLEVBQUUsV0FBVztnQkFDbEIsS0FBSyxFQUFFLElBQUk7YUFDWjtZQUNEO2dC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K0JBQ0Usb0RBQW9EOzswQkF3SjNELE1BQU07MkJBQUMsUUFBUTs0Q0EzQ1QsRUFBRTtzQkFBVixLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csTUFBTTtzQkFBZCxLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUdGLGFBQWE7c0JBRGhCLEtBQUs7Z0JBVUYsZUFBZTtzQkFEbEIsS0FBSztnQkFRRixlQUFlO3NCQURsQixLQUFLO2dCQU9HLGFBQWE7c0JBQXJCLEtBQUs7Z0JBRUksT0FBTztzQkFBaEIsTUFBTTtnQkFFaUMsV0FBVztzQkFBbEQsU0FBUzt1QkFBQyxXQUFXLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgUmVuZGVyZXIyLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtBbmd1bGFyRWRpdG9yU2VydmljZSwgVXBsb2FkUmVzcG9uc2V9IGZyb20gJy4uL2FuZ3VsYXItZWRpdG9yLnNlcnZpY2UnO1xuaW1wb3J0IHtIdHRwRXZlbnQsIEh0dHBSZXNwb25zZX0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHtET0NVTUVOVH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Q3VzdG9tQ2xhc3N9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQge1NlbGVjdE9wdGlvbn0gZnJvbSAnLi4vYWUtc2VsZWN0L2FlLXNlbGVjdC5jb21wb25lbnQnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW5ndWxhci1lZGl0b3ItdG9vbGJhciwgYWUtdG9vbGJhciwgZGl2W2FlVG9vbGJhcl0nLFxuICB0ZW1wbGF0ZVVybDogJy4vYWUtdG9vbGJhci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FlLXRvb2xiYXIuY29tcG9uZW50LnNjc3MnXSxcbiAgLy9lbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxufSlcblxuZXhwb3J0IGNsYXNzIEFlVG9vbGJhckNvbXBvbmVudCB7XG4gIGh0bWxNb2RlID0gZmFsc2U7XG4gIGxpbmtTZWxlY3RlZCA9IGZhbHNlO1xuICBibG9jayA9ICdkZWZhdWx0JztcbiAgZm9udE5hbWUgPSAnVGltZXMgTmV3IFJvbWFuJztcbiAgZm9udFNpemUgPSAnMyc7XG4gIGZvcmVDb2xvdXI7XG4gIGJhY2tDb2xvcjtcblxuICBoZWFkaW5nczogU2VsZWN0T3B0aW9uW10gPSBbXG4gICAge1xuICAgICAgbGFiZWw6ICdIZWFkaW5nIDEnLFxuICAgICAgdmFsdWU6ICdoMScsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0hlYWRpbmcgMicsXG4gICAgICB2YWx1ZTogJ2gyJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnSGVhZGluZyAzJyxcbiAgICAgIHZhbHVlOiAnaDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdIZWFkaW5nIDQnLFxuICAgICAgdmFsdWU6ICdoNCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0hlYWRpbmcgNScsXG4gICAgICB2YWx1ZTogJ2g1JyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnSGVhZGluZyA2JyxcbiAgICAgIHZhbHVlOiAnaDYnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdIZWFkaW5nIDcnLFxuICAgICAgdmFsdWU6ICdoNycsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ1BhcmFncmFwaCcsXG4gICAgICB2YWx1ZTogJ3AnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdQcmVkZWZpbmVkJyxcbiAgICAgIHZhbHVlOiAncHJlJ1xuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdTdGFuZGFyZCcsXG4gICAgICB2YWx1ZTogJ2RpdidcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnZGVmYXVsdCcsXG4gICAgICB2YWx1ZTogJ2RlZmF1bHQnXG4gICAgfVxuICBdO1xuXG4gIGZvbnRTaXplczogU2VsZWN0T3B0aW9uW10gPSBbXG4gICAge1xuICAgICAgbGFiZWw6ICcxJyxcbiAgICAgIHZhbHVlOiAnMScsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJzInLFxuICAgICAgdmFsdWU6ICcyJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnMycsXG4gICAgICB2YWx1ZTogJzMnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICc0JyxcbiAgICAgIHZhbHVlOiAnNCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJzUnLFxuICAgICAgdmFsdWU6ICc1JyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnNicsXG4gICAgICB2YWx1ZTogJzYnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICc3JyxcbiAgICAgIHZhbHVlOiAnNycsXG4gICAgfVxuICBdO1xuXG4gIGN1c3RvbUNsYXNzSWQgPSAnLTEnO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uLCBuby11bmRlcnNjb3JlLWRhbmdsZSwgaWQtYmxhY2tsaXN0LCBpZC1tYXRjaFxuICBfY3VzdG9tQ2xhc3NlczogQ3VzdG9tQ2xhc3NbXTtcbiAgY3VzdG9tQ2xhc3NMaXN0OiBTZWxlY3RPcHRpb25bXSA9IFt7bGFiZWw6ICcnLCB2YWx1ZTogJyd9XTtcbiAgLy8gdXBsb2FkVXJsOiBzdHJpbmc7XG5cbiAgdGFnTWFwID0ge1xuICAgIEJMT0NLUVVPVEU6ICdpbmRlbnQnLFxuICAgIEE6ICdsaW5rJ1xuICB9O1xuXG4gIHNlbGVjdCA9IFsnSDEnLCAnSDInLCAnSDMnLCAnSDQnLCAnSDUnLCAnSDYnLCAnUCcsICdQUkUnLCAnRElWJ107XG5cbiAgYnV0dG9ucyA9IFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZVRocm91Z2gnLCAnc3Vic2NyaXB0JywgJ3N1cGVyc2NyaXB0JywgJ2p1c3RpZnlMZWZ0JywgJ2p1c3RpZnlDZW50ZXInLFxuICAgICdqdXN0aWZ5UmlnaHQnLCAnanVzdGlmeUZ1bGwnLCAnaW5kZW50JywgJ291dGRlbnQnLCAnaW5zZXJ0VW5vcmRlcmVkTGlzdCcsICdpbnNlcnRPcmRlcmVkTGlzdCcsICdsaW5rJ107XG5cbiAgQElucHV0KCkgaWQ6IHN0cmluZztcbiAgQElucHV0KCkgdXBsb2FkVXJsOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHVwbG9hZDogKGZpbGU6IEZpbGUpID0+IE9ic2VydmFibGU8SHR0cEV2ZW50PFVwbG9hZFJlc3BvbnNlPj47XG4gIEBJbnB1dCgpIHNob3dUb29sYmFyOiBib29sZWFuO1xuICBASW5wdXQoKSBmb250czogU2VsZWN0T3B0aW9uW10gPSBbe2xhYmVsOiAnJywgdmFsdWU6ICcnfV07XG5cbiAgQElucHV0KClcbiAgc2V0IGN1c3RvbUNsYXNzZXMoY2xhc3NlczogQ3VzdG9tQ2xhc3NbXSkge1xuICAgIGlmIChjbGFzc2VzKSB7XG4gICAgICB0aGlzLl9jdXN0b21DbGFzc2VzID0gY2xhc3NlcztcbiAgICAgIHRoaXMuY3VzdG9tQ2xhc3NMaXN0ID0gdGhpcy5fY3VzdG9tQ2xhc3Nlcy5tYXAoKHgsIGkpID0+ICh7bGFiZWw6IHgubmFtZSwgdmFsdWU6IGkudG9TdHJpbmcoKX0pKTtcbiAgICAgIHRoaXMuY3VzdG9tQ2xhc3NMaXN0LnVuc2hpZnQoe2xhYmVsOiAnQ2xlYXIgQ2xhc3MnLCB2YWx1ZTogJy0xJ30pO1xuICAgIH1cbiAgfVxuXG4gIEBJbnB1dCgpXG4gIHNldCBkZWZhdWx0Rm9udE5hbWUodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5mb250TmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIEBJbnB1dCgpXG4gIHNldCBkZWZhdWx0Rm9udFNpemUodmFsdWU6IHN0cmluZykge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5mb250U2l6ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIEBJbnB1dCgpIGhpZGRlbkJ1dHRvbnM6IHN0cmluZ1tdW107XG5cbiAgQE91dHB1dCgpIGV4ZWN1dGU6IEV2ZW50RW1pdHRlcjxzdHJpbmc+ID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgQFZpZXdDaGlsZCgnZmlsZUlucHV0Jywge3N0YXRpYzogdHJ1ZX0pIG15SW5wdXRGaWxlOiBFbGVtZW50UmVmO1xuXG4gIHB1YmxpYyBnZXQgaXNMaW5rQnV0dG9uRGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaHRtbE1vZGUgfHwgIUJvb2xlYW4odGhpcy5lZGl0b3JTZXJ2aWNlLnNlbGVjdGVkVGV4dCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHI6IFJlbmRlcmVyMixcbiAgICBwcml2YXRlIGVkaXRvclNlcnZpY2U6IEFuZ3VsYXJFZGl0b3JTZXJ2aWNlLFxuICAgIHByaXZhdGUgZXI6IEVsZW1lbnRSZWYsXG4gICAgQEluamVjdChET0NVTUVOVCkgcHJpdmF0ZSBkb2M6IGFueVxuICApIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGNvbW1hbmQgZnJvbSBlZGl0b3IgaGVhZGVyIGJ1dHRvbnNcbiAgICogQHBhcmFtIGNvbW1hbmQgc3RyaW5nIGZyb20gdG9vbGJhciBidXR0b25zXG4gICAqL1xuICB0cmlnZ2VyQ29tbWFuZChjb21tYW5kOiBzdHJpbmcpIHtcbiAgICB0aGlzLmV4ZWN1dGUuZW1pdChjb21tYW5kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBoaWdobGlnaHQgZWRpdG9yIGJ1dHRvbnMgd2hlbiBjdXJzb3IgbW92ZWQgb3IgcG9zaXRpb25pbmdcbiAgICovXG4gIHRyaWdnZXJCdXR0b25zKCkge1xuICAgIGlmICghdGhpcy5zaG93VG9vbGJhcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChlID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZG9jLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpO1xuICAgICAgY29uc3QgZWxlbWVudEJ5SWQgPSB0aGlzLmRvYy5nZXRFbGVtZW50QnlJZChlICsgJy0nICsgdGhpcy5pZCk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuci5hZGRDbGFzcyhlbGVtZW50QnlJZCwgJ2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yLnJlbW92ZUNsYXNzKGVsZW1lbnRCeUlkLCAnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogdHJpZ2dlciBoaWdobGlnaHQgZWRpdG9yIGJ1dHRvbnMgd2hlbiBjdXJzb3IgbW92ZWQgb3IgcG9zaXRpb25pbmcgaW4gYmxvY2tcbiAgICovXG4gIHRyaWdnZXJCbG9ja3Mobm9kZXM6IE5vZGVbXSkge1xuICAgIGlmICghdGhpcy5zaG93VG9vbGJhcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxpbmtTZWxlY3RlZCA9IG5vZGVzLmZpbmRJbmRleCh4ID0+IHgubm9kZU5hbWUgPT09ICdBJykgPiAtMTtcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdC5mb3JFYWNoKHkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzLmZpbmQoeCA9PiB4Lm5vZGVOYW1lID09PSB5KTtcbiAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgeSA9PT0gbm9kZS5ub2RlTmFtZSkge1xuICAgICAgICBpZiAoZm91bmQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5ibG9jayA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZm91bmQgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYmxvY2sgPSAnZGVmYXVsdCc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmb3VuZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9jdXN0b21DbGFzc2VzKSB7XG4gICAgICB0aGlzLl9jdXN0b21DbGFzc2VzLmZvckVhY2goKHksIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlcy5maW5kKHggPT4ge1xuICAgICAgICAgIGlmICh4IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHguY2xhc3NOYW1lID09PSB5LmNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoZm91bmQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbUNsYXNzSWQgPSBpbmRleC50b1N0cmluZygpO1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmb3VuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB0aGlzLmN1c3RvbUNsYXNzSWQgPSAnLTEnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLnRhZ01hcCkubWFwKGUgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudEJ5SWQgPSB0aGlzLmRvYy5nZXRFbGVtZW50QnlJZCh0aGlzLnRhZ01hcFtlXSArICctJyArIHRoaXMuaWQpO1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzLmZpbmQoeCA9PiB4Lm5vZGVOYW1lID09PSBlKTtcbiAgICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgZSA9PT0gbm9kZS5ub2RlTmFtZSkge1xuICAgICAgICB0aGlzLnIuYWRkQ2xhc3MoZWxlbWVudEJ5SWQsICdhY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuci5yZW1vdmVDbGFzcyhlbGVtZW50QnlJZCwgJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5mb3JlQ29sb3VyID0gdGhpcy5kb2MucXVlcnlDb21tYW5kVmFsdWUoJ0ZvcmVDb2xvcicpO1xuICAgIHRoaXMuZm9udFNpemUgPSB0aGlzLmRvYy5xdWVyeUNvbW1hbmRWYWx1ZSgnRm9udFNpemUnKTtcbiAgICB0aGlzLmZvbnROYW1lID0gdGhpcy5kb2MucXVlcnlDb21tYW5kVmFsdWUoJ0ZvbnROYW1lJykucmVwbGFjZSgvXCIvZywgJycpO1xuICAgIHRoaXMuYmFja0NvbG9yID0gdGhpcy5kb2MucXVlcnlDb21tYW5kVmFsdWUoJ2JhY2tDb2xvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIGluc2VydCBVUkwgbGlua1xuICAgKi9cbiAgaW5zZXJ0VXJsKCkge1xuICAgIGxldCB1cmwgPSAnaHR0cHM6XFwvXFwvJztcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmVkaXRvclNlcnZpY2Uuc2F2ZWRTZWxlY3Rpb247XG4gICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24uY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50RWxlbWVudC5ub2RlTmFtZSA9PT0gJ0EnKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBzZWxlY3Rpb24uY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50RWxlbWVudCBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICAgIGlmIChwYXJlbnQuaHJlZiAhPT0gJycpIHtcbiAgICAgICAgdXJsID0gcGFyZW50LmhyZWY7XG4gICAgICB9XG4gICAgfVxuICAgIHVybCA9IHByb21wdCgnSW5zZXJ0IFVSTCBsaW5rJywgdXJsKTtcbiAgICBpZiAodXJsICYmIHVybCAhPT0gJycgJiYgdXJsICE9PSAnaHR0cHM6Ly8nKSB7XG4gICAgICB0aGlzLmVkaXRvclNlcnZpY2UuY3JlYXRlTGluayh1cmwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBpbnNlcnQgVmlkZW8gbGlua1xuICAgKi9cbiAgaW5zZXJ0VmlkZW8oKSB7XG4gICAgdGhpcy5leGVjdXRlLmVtaXQoJycpO1xuICAgIGNvbnN0IHVybCA9IHByb21wdCgnSW5zZXJ0IFZpZGVvIGxpbmsnLCBgaHR0cHM6Ly9gKTtcbiAgICBpZiAodXJsICYmIHVybCAhPT0gJycgJiYgdXJsICE9PSBgaHR0cHM6Ly9gKSB7XG4gICAgICB0aGlzLmVkaXRvclNlcnZpY2UuaW5zZXJ0VmlkZW8odXJsKTtcbiAgICB9XG4gIH1cblxuICAvKiogaW5zZXJ0IGNvbG9yICovXG4gIGluc2VydENvbG9yKGNvbG9yOiBzdHJpbmcsIHdoZXJlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmVkaXRvclNlcnZpY2UuaW5zZXJ0Q29sb3IoY29sb3IsIHdoZXJlKTtcbiAgICB0aGlzLmV4ZWN1dGUuZW1pdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogc2V0IGZvbnQgTmFtZS9mYW1pbHlcbiAgICogQHBhcmFtIGZvcmVDb2xvciBzdHJpbmdcbiAgICovXG4gIHNldEZvbnROYW1lKGZvcmVDb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5lZGl0b3JTZXJ2aWNlLnNldEZvbnROYW1lKGZvcmVDb2xvcik7XG4gICAgdGhpcy5leGVjdXRlLmVtaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIHNldCBmb250IFNpemVcbiAgICogQHBhcmFtIGZvbnRTaXplIHN0cmluZ1xuICAgKi9cbiAgc2V0Rm9udFNpemUoZm9udFNpemU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZWRpdG9yU2VydmljZS5zZXRGb250U2l6ZShmb250U2l6ZSk7XG4gICAgdGhpcy5leGVjdXRlLmVtaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIHRvZ2dsZSBlZGl0b3IgbW9kZSAoV1lTSVdZRyBvciBTT1VSQ0UpXG4gICAqIEBwYXJhbSBtIGJvb2xlYW5cbiAgICovXG4gIHNldEVkaXRvck1vZGUobTogYm9vbGVhbikge1xuICAgIGNvbnN0IHRvZ2dsZUVkaXRvck1vZGVCdXR0b24gPSB0aGlzLmRvYy5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRWRpdG9yTW9kZScgKyAnLScgKyB0aGlzLmlkKTtcbiAgICBpZiAobSkge1xuICAgICAgdGhpcy5yLmFkZENsYXNzKHRvZ2dsZUVkaXRvck1vZGVCdXR0b24sICdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yLnJlbW92ZUNsYXNzKHRvZ2dsZUVkaXRvck1vZGVCdXR0b24sICdhY3RpdmUnKTtcbiAgICB9XG4gICAgdGhpcy5odG1sTW9kZSA9IG07XG4gIH1cblxuICAvKipcbiAgICogVXBsb2FkIGltYWdlIHdoZW4gZmlsZSBpcyBzZWxlY3RlZC5cbiAgICovXG4gIG9uRmlsZUNoYW5nZWQoZXZlbnQpIHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmIChmaWxlLnR5cGUuaW5jbHVkZXMoJ2ltYWdlLycpKSB7XG4gICAgICBpZiAodGhpcy51cGxvYWQpIHtcbiAgICAgICAgdGhpcy51cGxvYWQoZmlsZSkuc3Vic2NyaWJlKChyZXNwb25zZTogSHR0cFJlc3BvbnNlPFVwbG9hZFJlc3BvbnNlPikgPT4gdGhpcy53YXRjaFVwbG9hZEltYWdlKHJlc3BvbnNlLCBldmVudCkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnVwbG9hZFVybCkge1xuICAgICAgICB0aGlzLmVkaXRvclNlcnZpY2UudXBsb2FkSW1hZ2UoZmlsZSkuc3Vic2NyaWJlKChyZXNwb25zZTogSHR0cFJlc3BvbnNlPFVwbG9hZFJlc3BvbnNlPikgPT4gdGhpcy53YXRjaFVwbG9hZEltYWdlKHJlc3BvbnNlLCBldmVudCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlOiBQcm9ncmVzc0V2ZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgZnIgPSBlLmN1cnJlbnRUYXJnZXQgYXMgRmlsZVJlYWRlcjtcbiAgICAgICAgICB0aGlzLmVkaXRvclNlcnZpY2UuaW5zZXJ0SW1hZ2UoZnIucmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB3YXRjaFVwbG9hZEltYWdlKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2U8eyBpbWFnZVVybDogc3RyaW5nIH0+LCBldmVudCkge1xuICAgIGNvbnN0IHtpbWFnZVVybH0gPSByZXNwb25zZS5ib2R5O1xuICAgIHRoaXMuZWRpdG9yU2VydmljZS5pbnNlcnRJbWFnZShpbWFnZVVybCk7XG4gICAgZXZlbnQuc3JjRWxlbWVudC52YWx1ZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGN1c3RvbSBjbGFzc1xuICAgKi9cbiAgc2V0Q3VzdG9tQ2xhc3MoY2xhc3NJZDogc3RyaW5nKSB7XG4gICAgaWYgKGNsYXNzSWQgPT09ICctMScpIHtcbiAgICAgIHRoaXMuZXhlY3V0ZS5lbWl0KCdjbGVhcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVkaXRvclNlcnZpY2UuY3JlYXRlQ3VzdG9tQ2xhc3ModGhpcy5fY3VzdG9tQ2xhc3Nlc1srY2xhc3NJZF0pO1xuICAgIH1cbiAgfVxuXG4gIGlzQnV0dG9uSGlkZGVuKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoISh0aGlzLmhpZGRlbkJ1dHRvbnMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdDogYW55O1xuICAgIGZvciAoY29uc3QgYXJyIG9mIHRoaXMuaGlkZGVuQnV0dG9ucykge1xuICAgICAgaWYgKGFyciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJlc3VsdCA9IGFyci5maW5kKGl0ZW0gPT4gaXRlbSA9PT0gbmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0ICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBmb2N1cygpIHtcbiAgICB0aGlzLmV4ZWN1dGUuZW1pdCgnZm9jdXMnKTtcbiAgICBjb25zb2xlLmxvZygnZm9jdXNlZCcpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiYW5ndWxhci1lZGl0b3ItdG9vbGJhclwiICpuZ0lmPVwic2hvd1Rvb2xiYXJcIj5cbiAgPGRpdiBhZVRvb2xiYXJTZXQ+XG4gICAgPGJ1dHRvbiBhZUJ1dHRvbiB0aXRsZT1cIlVuZG9cIiBpY29uTmFtZT1cInVuZG9cIiAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ3VuZG8nKVwiIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ3VuZG8nKVwiPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gYWVCdXR0b24gdGl0bGU9XCJSZWRvXCIgaWNvbk5hbWU9XCJyZWRvXCIgKGNsaWNrKT1cInRyaWdnZXJDb21tYW5kKCdyZWRvJylcIlxuICAgICAgICAgICAgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbigncmVkbycpXCI+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICA8ZGl2IGFlVG9vbGJhclNldD5cbiAgICA8YnV0dG9uIFtpZF09XCInYm9sZC0nK2lkXCIgYWVCdXR0b24gdGl0bGU9XCJCb2xkXCIgaWNvbk5hbWU9XCJib2xkXCIgKGNsaWNrKT1cInRyaWdnZXJDb21tYW5kKCdib2xkJylcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCIgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignYm9sZCcpXCI+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ2l0YWxpYy0nK2lkXCIgYWVCdXR0b24gaWNvbk5hbWU9XCJpdGFsaWNcIiB0aXRsZT1cIkl0YWxpY1wiIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgnaXRhbGljJylcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCIgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignaXRhbGljJylcIj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIFtpZF09XCIndW5kZXJsaW5lLScraWRcIiBhZUJ1dHRvbiB0aXRsZT1cIlVuZGVybGluZVwiIGljb25OYW1lPVwidW5kZXJsaW5lXCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgndW5kZXJsaW5lJylcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIiBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCd1bmRlcmxpbmUnKVwiPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gW2lkXT1cIidzdHJpa2VUaHJvdWdoLScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cInN0cmlrZVRocm91Z2hcIiB0aXRsZT1cIlN0cmlrZXRocm91Z2hcIlxuICAgICAgICAgICAgKGNsaWNrKT1cInRyaWdnZXJDb21tYW5kKCdzdHJpa2VUaHJvdWdoJylcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIlxuICAgICAgICAgICAgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignc3RyaWtlVGhyb3VnaCcpXCI+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ3N1YnNjcmlwdC0nK2lkXCIgYWVCdXR0b24gdGl0bGU9XCJTdWJzY3JpcHRcIiBpY29uTmFtZT1cInN1YnNjcmlwdFwiXG4gICAgICAgICAgICAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ3N1YnNjcmlwdCcpXCIgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCIgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignc3Vic2NyaXB0JylcIj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIFtpZF09XCInc3VwZXJzY3JpcHQtJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwic3VwZXJzY3JpcHRcIiB0aXRsZT1cIlN1cGVyc2NyaXB0XCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgnc3VwZXJzY3JpcHQnKVwiIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiXG4gICAgICAgICAgICBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdzdXBlcnNjcmlwdCcpXCI+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICA8ZGl2IGFlVG9vbGJhclNldD5cbiAgICA8YnV0dG9uIFtpZF09XCInanVzdGlmeUxlZnQtJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwianVzdGlmeUxlZnRcIiB0aXRsZT1cIkp1c3RpZnkgTGVmdFwiXG4gICAgICAgICAgICAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ2p1c3RpZnlMZWZ0JylcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIlxuICAgICAgICAgICAgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignanVzdGlmeUxlZnQnKVwiPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gW2lkXT1cIidqdXN0aWZ5Q2VudGVyLScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cImp1c3RpZnlDZW50ZXJcIiB0aXRsZT1cIkp1c3RpZnkgQ2VudGVyXCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgnanVzdGlmeUNlbnRlcicpXCIgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCJcbiAgICAgICAgICAgIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2p1c3RpZnlDZW50ZXInKVwiPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gW2lkXT1cIidqdXN0aWZ5UmlnaHQtJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwianVzdGlmeVJpZ2h0XCIgdGl0bGU9XCJKdXN0aWZ5IFJpZ2h0XCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgnanVzdGlmeVJpZ2h0JylcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIlxuICAgICAgICAgICAgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignanVzdGlmeVJpZ2h0JylcIj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIFtpZF09XCInanVzdGlmeUZ1bGwtJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwianVzdGlmeUZ1bGxcIiB0aXRsZT1cIkp1c3RpZnkgRnVsbFwiXG4gICAgICAgICAgICAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ2p1c3RpZnlGdWxsJylcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIlxuICAgICAgICAgICAgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignanVzdGlmeUZ1bGwnKVwiPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbiAgPGRpdiBhZVRvb2xiYXJTZXQ+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ2luZGVudC0nK2lkXCIgYWVCdXR0b24gaWNvbk5hbWU9XCJpbmRlbnRcIiB0aXRsZT1cIkluZGVudFwiXG4gICAgICAgICAgICAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ2luZGVudCcpXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2luZGVudCcpXCI+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ291dGRlbnQtJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwib3V0ZGVudFwiIHRpdGxlPVwiT3V0ZGVudFwiXG4gICAgICAgICAgICAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ291dGRlbnQnKVwiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIiBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdvdXRkZW50JylcIj5cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDxkaXYgYWVUb29sYmFyU2V0PlxuICAgIDxidXR0b24gW2lkXT1cIidpbnNlcnRVbm9yZGVyZWRMaXN0LScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cInVub3JkZXJlZExpc3RcIiB0aXRsZT1cIlVub3JkZXJlZCBMaXN0XCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgnaW5zZXJ0VW5vcmRlcmVkTGlzdCcpXCIgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCJcbiAgICAgICAgICAgIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2luc2VydFVub3JkZXJlZExpc3QnKVwiPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gW2lkXT1cIidpbnNlcnRPcmRlcmVkTGlzdC0nK2lkXCIgYWVCdXR0b24gaWNvbk5hbWU9XCJvcmRlcmVkTGlzdFwiIHRpdGxlPVwiT3JkZXJlZCBMaXN0XCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgnaW5zZXJ0T3JkZXJlZExpc3QnKVwiIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiXG4gICAgICAgICAgICBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdpbnNlcnRPcmRlcmVkTGlzdCcpXCI+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICA8ZGl2IGFlVG9vbGJhclNldD5cbiAgICA8YWUtc2VsZWN0IGNsYXNzPVwic2VsZWN0LWhlYWRpbmdcIiBbb3B0aW9uc109XCJoZWFkaW5nc1wiXG4gICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cImJsb2NrXCJcbiAgICAgICAgICAgICAgIChjaGFuZ2UpPVwidHJpZ2dlckNvbW1hbmQoYmxvY2spXCJcbiAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiXG4gICAgICAgICAgICAgICBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdoZWFkaW5nJylcIlxuICAgICAgICAgICAgICAgdGFiaW5kZXg9XCItMVwiPjwvYWUtc2VsZWN0PlxuICA8L2Rpdj5cbiAgPGRpdiBhZVRvb2xiYXJTZXQ+XG4gICAgPGFlLXNlbGVjdCBjbGFzcz1cInNlbGVjdC1mb250XCIgW29wdGlvbnNdPVwiZm9udHNcIlxuICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJmb250TmFtZVwiXG4gICAgICAgICAgICAgICAoY2hhbmdlKT1cInNldEZvbnROYW1lKGZvbnROYW1lKVwiXG4gICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIlxuICAgICAgICAgICAgICAgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbignZm9udE5hbWUnKVwiXG4gICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCI+PC9hZS1zZWxlY3Q+XG4gIDwvZGl2PlxuICA8ZGl2IGFlVG9vbGJhclNldD5cbiAgICA8YWUtc2VsZWN0IGNsYXNzPVwic2VsZWN0LWZvbnQtc2l6ZVwiIFtvcHRpb25zXT1cImZvbnRTaXplc1wiXG4gICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cImZvbnRTaXplXCJcbiAgICAgICAgICAgICAgIChjaGFuZ2UpPVwic2V0Rm9udFNpemUoZm9udFNpemUpXCJcbiAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiXG4gICAgICAgICAgICAgICBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdmb250U2l6ZScpXCJcbiAgICAgICAgICAgICAgIHRhYmluZGV4PVwiLTFcIj5cbiAgICA8L2FlLXNlbGVjdD5cbiAgPC9kaXY+XG4gIDxkaXYgYWVUb29sYmFyU2V0PlxuICAgIDxpbnB1dFxuICAgICAgc3R5bGU9XCJkaXNwbGF5OiBub25lXCJcbiAgICAgIHR5cGU9XCJjb2xvclwiIChjaGFuZ2UpPVwiaW5zZXJ0Q29sb3IoZmdJbnB1dC52YWx1ZSwgJ3RleHRDb2xvcicpXCJcbiAgICAgICNmZ0lucHV0PlxuICAgIDxidXR0b24gW2lkXT1cIidmb3JlZ3JvdW5kQ29sb3JQaWNrZXItJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwidGV4dENvbG9yXCJcbiAgICAgICAgICAgIChjbGljayk9XCJmb2N1cygpOyA7IGZnSW5wdXQuY2xpY2soKVwiXG4gICAgICAgICAgICB0aXRsZT1cIlRleHQgQ29sb3JcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCIgW2hpZGRlbl09XCJpc0J1dHRvbkhpZGRlbigndGV4dENvbG9yJylcIj5cbiAgICA8L2J1dHRvbj5cbiAgICA8aW5wdXRcbiAgICAgIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiXG4gICAgICB0eXBlPVwiY29sb3JcIiAoY2hhbmdlKT1cImluc2VydENvbG9yKGJnSW5wdXQudmFsdWUsICdiYWNrZ3JvdW5kQ29sb3InKVwiXG4gICAgICAjYmdJbnB1dD5cbiAgICA8YnV0dG9uIFtpZF09XCInYmFja2dyb3VuZENvbG9yUGlja2VyLScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cImJhY2tncm91bmRDb2xvclwiXG4gICAgICAgICAgICAoY2xpY2spPVwiZm9jdXMoKTsgOyBiZ0lucHV0LmNsaWNrKClcIlxuICAgICAgICAgICAgdGl0bGU9XCJCYWNrZ3JvdW5kIENvbG9yXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2JhY2tncm91bmRDb2xvcicpXCI+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuICA8ZGl2ICpuZ0lmPVwiX2N1c3RvbUNsYXNzZXNcIiBhZVRvb2xiYXJTZXQ+XG4gICAgPGFlLXNlbGVjdCBjbGFzcz1cInNlbGVjdC1jdXN0b20tc3R5bGVcIiBbb3B0aW9uc109XCJjdXN0b21DbGFzc0xpc3RcIlxuICAgICAgICAgICAgICAgWyhuZ01vZGVsKV09XCJjdXN0b21DbGFzc0lkXCJcbiAgICAgICAgICAgICAgIChjaGFuZ2UpPVwic2V0Q3VzdG9tQ2xhc3MoY3VzdG9tQ2xhc3NJZClcIlxuICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCJcbiAgICAgICAgICAgICAgIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2N1c3RvbUNsYXNzZXMnKVwiXG4gICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCI+PC9hZS1zZWxlY3Q+XG4gIDwvZGl2PlxuICA8ZGl2IGFlVG9vbGJhclNldD5cbiAgICA8YnV0dG9uIFtpZF09XCInbGluay0nK2lkXCIgYWVCdXR0b24gaWNvbk5hbWU9XCJsaW5rXCIgKGNsaWNrKT1cImluc2VydFVybCgpXCJcbiAgICAgICAgICAgIHRpdGxlPVwiSW5zZXJ0IExpbmtcIiBbZGlzYWJsZWRdPVwiaXNMaW5rQnV0dG9uRGlzYWJsZWRcIiBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdsaW5rJylcIj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIFtpZF09XCIndW5saW5rLScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cInVubGlua1wiIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgndW5saW5rJylcIlxuICAgICAgICAgICAgdGl0bGU9XCJVbmxpbmtcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGUgfHwgIWxpbmtTZWxlY3RlZFwiIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ3VubGluaycpXCI+XG4gICAgPC9idXR0b24+XG4gICAgPGlucHV0XG4gICAgICBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIlxuICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICB0eXBlPVwiZmlsZVwiIChjaGFuZ2UpPVwib25GaWxlQ2hhbmdlZCgkZXZlbnQpXCJcbiAgICAgICNmaWxlSW5wdXQ+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ2luc2VydEltYWdlLScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cImltYWdlXCIgKGNsaWNrKT1cImZvY3VzKCk7IGZpbGVJbnB1dC5jbGljaygpXCJcbiAgICAgICAgICAgIHRpdGxlPVwiSW5zZXJ0IEltYWdlXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2luc2VydEltYWdlJylcIj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIFtpZF09XCInaW5zZXJ0VmlkZW8tJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwidmlkZW9cIlxuICAgICAgICAgICAgKGNsaWNrKT1cImluc2VydFZpZGVvKClcIiB0aXRsZT1cIkluc2VydCBWaWRlb1wiIFtkaXNhYmxlZF09XCJodG1sTW9kZVwiXG4gICAgICAgICAgICBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdpbnNlcnRWaWRlbycpXCI+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ2luc2VydEhvcml6b250YWxSdWxlLScraWRcIiBhZUJ1dHRvbiBpY29uTmFtZT1cImhvcml6b250YWxMaW5lXCIgdGl0bGU9XCJIb3Jpem9udGFsIExpbmVcIlxuICAgICAgICAgICAgKGNsaWNrKT1cInRyaWdnZXJDb21tYW5kKCdpbnNlcnRIb3Jpem9udGFsUnVsZScpXCIgW2Rpc2FibGVkXT1cImh0bWxNb2RlXCJcbiAgICAgICAgICAgIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ2luc2VydEhvcml6b250YWxSdWxlJylcIj5cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDxkaXYgYWVUb29sYmFyU2V0PlxuICAgIDxidXR0b24gW2lkXT1cIidjbGVhckZvcm1hdHRpbmctJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwicmVtb3ZlRm9ybWF0XCIgdGl0bGU9XCJDbGVhciBGb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYW5ndWxhci1lZGl0b3ItYnV0dG9uXCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0cmlnZ2VyQ29tbWFuZCgncmVtb3ZlRm9ybWF0JylcIiBbZGlzYWJsZWRdPVwiaHRtbE1vZGVcIiBbaGlkZGVuXT1cImlzQnV0dG9uSGlkZGVuKCdyZW1vdmVGb3JtYXQnKVwiPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbiAgPGRpdiBhZVRvb2xiYXJTZXQ+XG4gICAgPGJ1dHRvbiBbaWRdPVwiJ3RvZ2dsZUVkaXRvck1vZGUtJytpZFwiIGFlQnV0dG9uIGljb25OYW1lPVwiaHRtbENvZGVcIiB0aXRsZT1cIkhUTUwgQ29kZVwiXG4gICAgICAgICAgICAoY2xpY2spPVwidHJpZ2dlckNvbW1hbmQoJ3RvZ2dsZUVkaXRvck1vZGUnKVwiIFtoaWRkZW5dPVwiaXNCdXR0b25IaWRkZW4oJ3RvZ2dsZUVkaXRvck1vZGUnKVwiPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbiAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuPC9kaXY+XG4iXX0=